<app-pharmacyheader></app-pharmacyheader>
<div class="container-fluid">
    <div class="row">
            <app-pharmacyleftmenu [ph]="this"></app-pharmacyleftmenu>            
            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">                
                <div class="box">
                    <div>
                    <h2>Information über Apotheke {{pharmacy.Kundennummer}}</h2>
                    <table class="table table-sm">
                        <h3>{{errorMsg}}</h3>
                        <tr>
                        <td>Apothekenname:</td>
                        <td >{{pharmacy.ApothekenName}}</td>  
                        </tr>
                        <tr >
                            <td>Ort:</td>
                            <td >{{pharmacy.Ort}}</td>
                        </tr>
                        <tr >
                                <td>Telefonnummer:</td>
                                <td >{{pharmacy.Telefonnummer}}</td>
                            </tr>
                        <tr >
                            <td>Postleitzahl:</td>
                            <td >{{pharmacy.Postleitzahl}}</td>
                        </tr>
                        <tr >
                            <td>Faxnummer:</td>
                            <td >{{pharmacy.Faxnummer}}</td>
                        </tr>
                        <tr >
                            <td>IDFNummer:</td>
                            <td >{{pharmacy.IDFNummer}}</td>
                        </tr>
                        <tr >
                            <td>Straße:</td>
                            <td >{{pharmacy.Strasse}}</td>
                        </tr>
                        <tr >
                            <td>EMail:</td>
                            <td >{{pharmacy.EMail}}</td>
                        </tr>
                        <tr >
                            <td>Apotheker:</td>
                            <td >{{pharmacy.Vorname}} {{pharmacy.Nachname}}</td>
                        </tr>
                        <tr >
                            <td>Betriebsstätte:</td>
                            <td >{{pharmacy.Betriebsstaette}}</td>
                        </tr>
                        <tr >
                            <td>Geburtsdatum:</td>
                            <td >{{pharmacy.Geburtsdatum}}</td>
                        </tr>
                        <tr >
                            <td>Gebietsleiter:</td>
                            <td >{{pharmacy.Gebietsleiter}}</td>
                        </tr>
                    </table>
                    </div>
                    <div *ngIf="!changenumberclicked">
                        <h2>Bestellungen</h2>
                        <table class="table table-striped table-sm">
                            <thead>
                                <tr>
                                    <th >ID</th>
                                    <th >Status</th>
                                    <th >Datum der Bestellung</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let order of this.orders">
                                    <td >
                                        <a [routerLink]="['/orderinfo', order.OrderID]">{{order.OrderID}}</a>
                                    </td>
                                    <td >
                                        {{order.StateName}}
                                    </td>    
                                    <td >
                                        {{order.OrderDate}}
                                    </td>    
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div *ngIf="changenumberclicked" class="changeCustomerNumberDiv">
                            <h2>Kundennummer ändern</h2>
                            <div class="form-group">
                                <label for="uname1">Alte Nummer</label>
                                <input type="text" class="form-control rounded-0" [(ngModel)]="OldValue" name="oldnumber" required>
                            </div>
                            <div class="form-group">
                                <label>Neue Nummer</label>
                                <input type="text" class="form-control rounded-0" [(ngModel)]="NewValue" name="newnumber" required>
                            </div>
                                                     
                            <button type="button" (click)="saveToDatabase()" class="btn btn-success float-right">Speichern</button>
                            <button type="button" (click)="cancelChange()" class="btn btn-success float-right" style="margin-right:10px;">Abbrechen</button>   
                    </div>
                </div>
            </main>
    </div>
</div>

